# Спецификация требований к программному обеспечению

## System Requirements Specification (SyRS)

### 1. Введение

#### 1.1 Назначение
Документ определяет системные требования к консольному приложению "Вычислитель математических последовательностей", предназначенному для вычисления различных математических последовательностей с измерением времени выполнения.

#### 1.2 Область действия
Система обеспечивает:
- Вычисление n-ного числа Фибоначчи
- Генерацию последовательностей чисел Фибоначчи
- Вычисление 16-угольных чисел
- Измерение производительности операций

### 2. Системные требования

#### 2.1 Функциональные требования

| ID | Требование | Описание | Приоритет |
|----|------------|----------|-----------|
| SYS-FUNC-001 | Главное меню | Система должна предоставлять интерактивное главное меню с 4 опциями | Высокий |
| SYS-FUNC-002 | Навигация | Система должна обеспечивать навигацию между подменю | Высокий |
| SYS-FUNC-003 | Вычисление Фибоначчи | Система должна вычислять отдельные числа Фибоначчи | Высокий |
| SYS-FUNC-004 | Последовательность Фибоначчи | Система должна генерировать последовательности чисел Фибоначчи | Высокий |
| SYS-FUNC-005 | 16-угольные числа | Система должна вычислять 16-угольные числа | Высокий |
| SYS-FUNC-006 | Измерение времени | Система должна измерять время выполнения вычислений | Средний |
| SYS-FUNC-007 | Обработка ошибок | Система должна обрабатывать некорректный пользовательский ввод | Высокий |

#### 2.2 Требования к интерфейсу

| ID | Требование | Приоритет |
|----|------------|-----------|
| SYS-UI-001 | Консольный текстовый интерфейс | Высокий |
| SYS-UI-002 | Четкая структура меню | Высокий |
| SYS-UI-003 | Отображение результатов и времени выполнения | Высокий |

#### 2.3 Требования к производительности

| ID | Требование | Приоритет |
|----|------------|-----------|
| SYS-PERF-001 | Поддержка больших чисел (до 1,000,000) | Высокий |
| SYS-PERF-002 | Быстрый отклик на пользовательский ввод | Высокий |
| SYS-PERF-003 | Эффективное использование памяти | Средний |

---

## Software Requirements Specification (SRS)

### 1. Введение

#### 1.1 Назначение
Документ определяет программные требования к модулям системы "Вычислитель математических последовательностей".

#### 1.2 Область действия
Требования к основному приложению и математическим модулям.

### 2. Общее описание

#### 2.1 Архитектура системы

```
math-sequences-calculator/
├── main.py              # Основной модуль
├── fibonacci.py         # Модуль чисел Фибоначчи
└── figurate.py          # Модуль фигурных чисел
```


### 3. Детальные требования

#### 3.1 Основной модуль (main.py)

**Функциональные требования:**

| ID | Требование | Описание | Приоритет |
|----|------------|----------|-----------|
| SW-MAIN-001 | Управление меню | Отображение и управление главным меню | Высокий |
| SW-MAIN-002 | Обработка выбора | Обработка выбора пользователя (0-3) | Высокий |
| SW-MAIN-003 | Навигация | Реализация навигации между подменю | Высокий |
| SW-MAIN-004 | Ввод данных | Обработка и валидация пользовательского ввода | Высокий |
| SW-MAIN-005 | Измерение времени | Замер времени выполнения операций | Средний |

**Реализация:**
```python
def main():
    """
    Основная функция приложения.
    Реализует главное меню и координацию работы модулей.
    """
    # Многоуровневая структура меню
    # Обработка пользовательского ввода
    # Измерение времени выполнения
```

### 3.2 Модуль Фибоначчи (fibonacci.py)

**Функциональные требования:**

| ID | Требование | Описание | Приоритет |
|----|------------|----------|-----------|
| SW-FIB-001 | fibonacci(n) | Вычисление n-ного числа Фибоначчи | Высокий |
| SW-FIB-002 | fibonacci_sequence(count) | Генерация последовательности чисел | Высокий |
| SW-FIB-003 | Валидация ввода | Проверка корректности входных параметров | Высокий |
| SW-FIB-004 | Ограничения | Ограничение n ≤ 1,000,000 | Высокий |

Реализация функций:

```python
def fibonacci(n):
    """
    Вычисляет n-ное число Фибоначчи
    
    Args:
        n (int): Позиция в последовательности (0 ≤ n ≤ 1,000,000)
    
    Returns:
        int: n-ное число Фибоначчи
    
    Raises:
        ValueError: Если n отрицательное или превышает 1,000,000
    """
    if n < 0: 
        raise ValueError("n должно быть неотрицательным")
    
    if n > 1000000: 
        raise ValueError("Максимально допустимое число для расчета Фибоначи - fib(n_max) == 1000000")
    
    elif n == 0:
        return 0
    elif n == 1:
        return 1
    
    a, b = 0, 1
    for _ in range(2, n + 1):
        a, b = b, a + b
    return b
  ```

**Алгоритмические характеристики:**

- **Временная сложность:** O(n)
- **Пространственная сложность:** O(1)
- **Обработка граничных случаев:** n=0, n=1

```python
def fibonacci_sequence(count):
    """
    Возвращает последовательность чисел Фибоначчи
    
    Args:
        count (int): Количество чисел в последовательности
    
    Returns:
        list: Список чисел Фибоначчи длиной count
    """
    if count <= 0:
        return []
    elif count == 1:
        return [0]
    elif count == 2:
        return [0, 1]
    
    sequence = [0, 1]
    for i in range(2, count):
        sequence.append(sequence[i-1] + sequence[i-2])
    return sequence
```

**Алгоритмические характеристики:**

- **Временная сложность:** O(n)
- **Пространственная сложность:** O(n)
- **Эффективное построение последовательности**

### 3.3 Модуль фигурных чисел (figurate.py)

**Функциональные требования:**

| ID | Требование | Описание | Приоритет |
|----|------------|----------|-----------|
| SW-FIG-001 | square_number(n) | Вычисление n-ного 16-угольного числа | Высокий |
| SW-FIG-002 | Валидация ввода | Проверка положительности n | Высокий |
| SW-FIG-003 | Математическая точность | Корректная реализация формулы | Высокий |

```python
def square_number(n):
    """
    Вычисляет n-ное 16-угольное число
    
    Args:
        n (int): Позиция в последовательности (n > 0)
    
    Returns:
        float: 16-угольное число по формуле (14n² - 12n)/2
    
    Raises:
        ValueError: Если n не положительное число
    """
    if n <= 0:
        raise ValueError("n должно быть положительным")
    return (14*n*n-12*n)/2
```

**Математическая основа:**

- **Формула для k-угольных чисел:** Pₖ(n) = (k-2)×n×(n-1)/2 + n
- **Для 16-угольных чисел:** P₁₆(n) = 14×n×(n-1)/2 + n = (14n² - 12n)/2

### 3.4 Требования к обработке ошибок

| ID | Требование | Приоритет |
|----|------------|-----------|
| SW-ERR-001 | Обработка ValueError | Высокий |
| SW-ERR-002 | Корректные сообщения об ошибках | Средний |
| SW-ERR-003 | Защита от переполнения | Высокий |

### 3.5 Требования к производительности

| ID | Требование | Метрика | Приоритет |
|----|------------|---------|-----------|
| SW-PERF-001 | Время вычисления fibonacci(1000) | < 1 секунда | Высокий |
| SW-PERF-002 | Время генерации последовательности(100) | < 0.5 секунды | Средний |
| SW-PERF-003 | Поддержка больших чисел | до 1,000,000 цифр | Высокий |

## 4. Технические требования

### 4.1 Зависимости
```python
import time
import sys
from fibonacci import fibonacci, fibonacci_sequence
from figurate import square_number

# Конфигурация для больших чисел
sys.set_int_max_str_digits(1000000)
```

### 4.2 Требования к окружению

- **Python:** 3.7 или выше
- **Память:** минимальные требования
- **ОС:** кроссплатформенность

## 5. Интерфейсы

### 5.1 Консольный интерфейс

**Главное меню:**
=== Вычислитель математических последовательностей ===

Вычислить число Фибоначчи

Вычислитель последовательности Фибоначчи

Вычислитель 16-угольное числа

Выход из программы

**Формат вывода результатов:**
1. Фибоначчи(10) = 55
2. Время вычисления: 0.000045 секунд

## 6. Сценарии использования

### 6.1 Сценарий: Вычисление числа Фибоначчи

1. Пользователь выбирает опцию "1"
2. Система отображает подменю вычисления числа Фибоначчи
3. Пользователь выбирает "1" для расчета
4. Система запрашивает значение n
5. Пользователь вводит целое число
6. Система вычисляет и отображает результат с временем выполнения

### 6.2 Сценарий: Обработка ошибок ввода

1. Пользователь вводит нечисловое значение
2. Система отображает сообщение об ошибке
3. Система возвращает в предыдущее меню
4. Пользователь может повторить ввод
